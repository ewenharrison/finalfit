<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>All plots examples • finalfit</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="All plots examples">
<meta property="og:description" content="finalfit">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">finalfit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/finalfit.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/all_plots_examples.html">All plots examples</a>
    </li>
    <li>
      <a href="../articles/all_tables_examples.html">All tables examples</a>
    </li>
    <li>
      <a href="../articles/bootstrap.html">Bootstrap simulation for model prediction</a>
    </li>
    <li>
      <a href="../articles/data_prep.html">Preparing data for finalfit</a>
    </li>
    <li>
      <a href="../articles/export.html">Exporting tables and plots</a>
    </li>
    <li>
      <a href="../articles/missing.html">Missing data</a>
    </li>
    <li>
      <a href="../articles/survival.html">Time-to-event (Survival)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ewenharrison/finalfit/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>All plots examples</h1>
                        <h4 data-toc-skip class="author">Ewen
Harrison</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ewenharrison/finalfit/blob/HEAD/vignettes/all_plots_examples.Rmd" class="external-link"><code>vignettes/all_plots_examples.Rmd</code></a></small>
      <div class="hidden name"><code>all_plots_examples.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="odds-ratio-plots">1 Odds ratio plots<a class="anchor" aria-label="anchor" href="#odds-ratio-plots"></a>
</h2>
<div class="section level3">
<h3 id="standard-odds-ratio-plot-forest-plot">1.01 Standard odds ratio plot (forest plot)<a class="anchor" aria-label="anchor" href="#standard-odds-ratio-plot-forest-plot"></a>
</h3>
<p>This is used to visually present the results from a multivariable
generalised linear model (usually logistic regression).</p>
<p>Here is the model:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/finalfit.html">finalfit</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>row.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="co"># This line only needed for formatting. </span></code></pre></div>
<table class="table">
<colgroup>
<col width="24%">
<col width="10%">
<col width="9%">
<col width="9%">
<col width="22%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th align="left"></th>
<th align="left">Alive</th>
<th align="left">Died</th>
<th align="left">OR (univariable)</th>
<th align="left">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="left">31 (46.3)</td>
<td align="left">36 (53.7)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="left">208 (61.4)</td>
<td align="left">131 (38.6)</td>
<td align="left">0.54 (0.32-0.92, p=0.023)</td>
<td align="left">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="left">272 (53.4)</td>
<td align="left">237 (46.6)</td>
<td align="left">0.75 (0.45-1.25, p=0.270)</td>
<td align="left">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="left">243 (55.6)</td>
<td align="left">194 (44.4)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Male</td>
<td align="left">268 (56.1)</td>
<td align="left">210 (43.9)</td>
<td align="left">0.98 (0.76-1.27, p=0.889)</td>
<td align="left">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="left">408 (56.7)</td>
<td align="left">312 (43.3)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">89 (51.1)</td>
<td align="left">85 (48.9)</td>
<td align="left">1.25 (0.90-1.74, p=0.189)</td>
<td align="left">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td align="left">No</td>
<td align="left">497 (56.0)</td>
<td align="left">391 (44.0)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">14 (51.9)</td>
<td align="left">13 (48.1)</td>
<td align="left">1.18 (0.54-2.55, p=0.672)</td>
<td align="left">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
<p>Simply switch to <code><a href="../reference/or_plot.html">or_plot()</a></code> for plot.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-2-1.png" width="2700"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
<p>Adjust figure width and height to optimise formatting.</p>
</div>
<div class="section level3">
<h3 id="mixed-effects-odds-ratio-plot-forest-plot">1.02 Mixed effects odds ratio plot (forest plot)<a class="anchor" aria-label="anchor" href="#mixed-effects-odds-ratio-plot-forest-plot"></a>
</h3>
<p>This is used to visually present the results from a mixed effects /
multilevel / hierarchical generalised linear model (usually logistic
regression).</p>
<p>Here is the model:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">random_effect</span> <span class="op">=</span> <span class="st">"hospital"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/finalfit.html">finalfit</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, random_effect <span class="op">=</span> <span class="va">random_effect</span><span class="op">)</span><span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>row.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="co"># This line only needed for formatting.</span></code></pre></div>
<table class="table">
<colgroup>
<col width="24%">
<col width="10%">
<col width="9%">
<col width="9%">
<col width="22%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th align="left"></th>
<th align="left">Alive</th>
<th align="left">Died</th>
<th align="left">OR (univariable)</th>
<th align="left">OR (multilevel)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="left">31 (46.3)</td>
<td align="left">36 (53.7)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="left">208 (61.4)</td>
<td align="left">131 (38.6)</td>
<td align="left">0.54 (0.32-0.92, p=0.023)</td>
<td align="left">0.75 (0.39-1.44, p=0.382)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="left">272 (53.4)</td>
<td align="left">237 (46.6)</td>
<td align="left">0.75 (0.45-1.25, p=0.270)</td>
<td align="left">1.03 (0.55-1.96, p=0.916)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="left">243 (55.6)</td>
<td align="left">194 (44.4)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Male</td>
<td align="left">268 (56.1)</td>
<td align="left">210 (43.9)</td>
<td align="left">0.98 (0.76-1.27, p=0.889)</td>
<td align="left">0.80 (0.58-1.11, p=0.180)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="left">408 (56.7)</td>
<td align="left">312 (43.3)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">89 (51.1)</td>
<td align="left">85 (48.9)</td>
<td align="left">1.25 (0.90-1.74, p=0.189)</td>
<td align="left">1.23 (0.82-1.83, p=0.320)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td align="left">No</td>
<td align="left">497 (56.0)</td>
<td align="left">391 (44.0)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">14 (51.9)</td>
<td align="left">13 (48.1)</td>
<td align="left">1.18 (0.54-2.55, p=0.672)</td>
<td align="left">1.03 (0.43-2.51, p=0.940)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">random_effect</span> <span class="op">=</span> <span class="st">"hospital"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, random_effect <span class="op">=</span> <span class="va">random_effect</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-4-1.png" width="2700"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotting-a-subset-of-variables-from-a-full-model">1.03 Plotting a subset of variables from a full model<a class="anchor" aria-label="anchor" href="#plotting-a-subset-of-variables-from-a-full-model"></a>
</h3>
<p>You may wish to only present a subset of variables from a full model,
say an explanatory variable of interest without covariates to avoid
table 2 fallacy.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>

<span class="co"># Run summary_factorlist for variables you wish to include</span>
<span class="co">## Include total_col = TRUE and fit_id = TRUE</span>
<span class="va">factorlist</span>  <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="st">"age.factor"</span>, total_col <span class="op">=</span> <span class="cn">TRUE</span>, fit_id <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># Run full model including factorlist</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, factorlist <span class="op">=</span> <span class="va">factorlist</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-5-1.png" width="2700"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=2, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotting-from-model-object">1.04 Plotting from model object<a class="anchor" aria-label="anchor" href="#plotting-from-model-object"></a>
</h3>
<p>When a model takes a long time to run, you do not want to re-run it
to plot it. Pass the model object to the plotting function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">random_effect</span> <span class="op">=</span> <span class="st">"hospital"</span>

<span class="va">fit</span> <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/glmmixed.html">glmmixed</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, <span class="va">random_effect</span><span class="op">)</span>

<span class="co"># Equivalent to:</span>
<span class="va">fit</span> <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">lme4</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lme4/man/glmer.html" class="external-link">glmer</a></span><span class="op">(</span><span class="va">mort_5yr</span> <span class="op">~</span> <span class="va">age.factor</span> <span class="op">+</span> <span class="va">sex.factor</span> <span class="op">+</span> <span class="va">obstruct.factor</span> <span class="op">+</span> <span class="va">perfor.factor</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">hospital</span><span class="op">)</span>, 
                            family<span class="op">=</span><span class="st">"binomial"</span>, data <span class="op">=</span> <span class="va">.</span><span class="op">)</span>

<span class="co"># Which is incidentally equivalent to:</span>
<span class="va">fit</span> <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">lme4</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lme4/man/glmer.html" class="external-link">glmer</a></span><span class="op">(</span><span class="fu"><a href="../reference/ff_formula.html">ff_formula</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, <span class="va">random_effect</span><span class="op">)</span>,
                            family<span class="op">=</span><span class="st">"binomial"</span>, data <span class="op">=</span> <span class="va">.</span><span class="op">)</span>

<span class="co"># Plot</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, random_effect <span class="op">=</span> <span class="va">random_effect</span>, glmfit <span class="op">=</span> <span class="va">fit</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-6-1.png" width="2700"></p>
<pre><code><span class="co">#&gt;    user  system elapsed </span>
<span class="co">#&gt;   0.564   0.000   0.571</span>
<span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre>
</div>
<div class="section level3">
<h3 id="plotting-univariable-models">1.05 Plotting univariable models<a class="anchor" aria-label="anchor" href="#plotting-univariable-models"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span>

<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"mort_5yr"</span>

<span class="va">fit_uni</span> <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/glmuni.html">glmuni</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span>

<span class="va">p_uni</span> <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, suffix <span class="op">=</span> <span class="st">" (univariable)"</span>, remove_ref <span class="op">=</span> <span class="cn">TRUE</span>, 
                    glmfit <span class="op">=</span> <span class="va">fit_uni</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-7-1.png" width="2187.50001"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p_multi</span> <span class="op">=</span> <span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, suffix <span class="op">=</span> <span class="st">" (multivariable)"</span>, remove_ref <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-7-2.png" width="2187.50001"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">p_uni</span>, <span class="va">p_multi</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-7-3.png" width="2187.50001"></p>
</div>
<div class="section level3">
<h3 id="confidence-interval-type">1.06 Confidence interval type<a class="anchor" aria-label="anchor" href="#confidence-interval-type"></a>
</h3>
<p>Change the type of confidence interval. For GLM, this is “profile” by
default, but confusingly “default” is also available (Wald) which is
quicker but may be biased when the likelihood function is not
symmetrical around the maximum likelihood estimate. Translated - best to
use “profile” or an alternative approach (like bootstrapping) for final
results.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, confint_type <span class="op">=</span> <span class="st">"default"</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-8-1.png" width="2700"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="remove-reference-levels">1.07 Remove reference levels<a class="anchor" aria-label="anchor" href="#remove-reference-levels"></a>
</h3>
<p>This will remove reference levels for binary variables.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, remove_ref <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-9-1.png" width="2700"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="manually-specifiy-x-axis-breaks">1.08 Manually specifiy x-axis breaks<a class="anchor" aria-label="anchor" href="#manually-specifiy-x-axis-breaks"></a>
</h3>
<p>Note, this will not include labels that are outwith the axis range,
i.e., if the axis starts at 0.2, adding 0.1 will not result in any
change. Use <code>plot_opts</code> to alter axis range.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="fl">1.0</span>, <span class="fl">1.2</span>, <span class="fl">1.4</span>, <span class="fl">1.8</span>, <span class="fl">2.4</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-10-1.png" width="2700"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adjust-table-column-spacing">1.09 Adjust table column spacing<a class="anchor" aria-label="anchor" href="#adjust-table-column-spacing"></a>
</h3>
<p>Nudge <em>relative</em> column positions to manage white space. Use
in combination with figure width to optimise.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, column_space <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-11-1.png" width="2700"></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adjust-or-remove-dependent-variable-label">1.10 Adjust or remove dependent variable label<a class="anchor" aria-label="anchor" href="#adjust-or-remove-dependent-variable-label"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, dependent_label <span class="op">=</span> <span class="st">"Mortality"</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-12-1.png" width="2700"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-dependent-variable-label-prefix">1.11 Add dependent variable label prefix<a class="anchor" aria-label="anchor" href="#add-dependent-variable-label-prefix"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, prefix <span class="op">=</span> <span class="st">"Figure 1 - "</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-13-1.png" width="2700"></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adjust-or-remove-dependent-variable-label-suffix">1.12 Adjust or remove dependent variable label suffix<a class="anchor" aria-label="anchor" href="#adjust-or-remove-dependent-variable-label-suffix"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, suffix <span class="op">=</span> <span class="st">""</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-14-1.png" width="2700"></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adjust-table-text-size">1.13 Adjust table text size<a class="anchor" aria-label="anchor" href="#adjust-table-text-size"></a>
</h3>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, table_text_size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-15-1.png" width="2700"></p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=4, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adjust-title-text-size">1.14 Adjust title text size<a class="anchor" aria-label="anchor" href="#adjust-title-text-size"></a>
</h3>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, title_text_size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-16-1.png" width="2700"></p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-plot-options">1.15 Add plot options<a class="anchor" aria-label="anchor" href="#add-plot-options"></a>
</h3>
<p>This adds further <code>ggplot</code> arguments appended in the usual
way by “+”.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>,
                    plot_opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html" class="external-link">xlim</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">3</span><span class="op">)</span>,
                                                     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"OR (95% CI, log)"</span><span class="op">)</span>,
                                                     <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span>
                    <span class="op">)</span>
    <span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-17-1.png" width="2700"></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-other-options">1.16 Add other options<a class="anchor" aria-label="anchor" href="#add-other-options"></a>
</h3>
<p>Pass any options for <code><a href="../reference/fit2df.html">fit2df()</a></code> to adjust table, e.g.,
number of decimal places, confidence interval separator etc.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">'mort_5yr'</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/or_plot.html">or_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>,
                digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, confint_sep <span class="op">=</span> <span class="st">" to "</span>, column_space <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-18-1.png" width="3000"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=10</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="hazard-ratio-plots">2 Hazard ratio plots<a class="anchor" aria-label="anchor" href="#hazard-ratio-plots"></a>
</h2>
<div class="section level3">
<h3 id="standard-hazard-ratio-plot">2.01 Standard hazard ratio plot<a class="anchor" aria-label="anchor" href="#standard-hazard-ratio-plot"></a>
</h3>
<p>This is used to visually present the results from a multivariable Cox
Proportional Hazards model.</p>
<p>Here is the model:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"Surv(time, status)"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/finalfit.html">finalfit</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>row.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="co"># This line only needed for formatting. </span></code></pre></div>
<table class="table">
<colgroup>
<col width="28%">
<col width="11%">
<col width="10%">
<col width="24%">
<col width="24%">
</colgroup>
<thead><tr class="header">
<th align="left">Dependent: Surv(time, status)</th>
<th align="left"></th>
<th align="left">all</th>
<th align="left">HR (univariable)</th>
<th align="left">HR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="left">70 (7.5)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="left">344 (37.0)</td>
<td align="left">0.76 (0.53-1.09, p=0.132)</td>
<td align="left">0.79 (0.55-1.13, p=0.196)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="left">515 (55.4)</td>
<td align="left">0.93 (0.66-1.31, p=0.668)</td>
<td align="left">0.98 (0.69-1.40, p=0.926)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="left">445 (47.9)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Male</td>
<td align="left">484 (52.1)</td>
<td align="left">1.01 (0.84-1.22, p=0.888)</td>
<td align="left">1.02 (0.85-1.23, p=0.812)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="left">732 (80.6)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">176 (19.4)</td>
<td align="left">1.29 (1.03-1.62, p=0.028)</td>
<td align="left">1.30 (1.03-1.64, p=0.026)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td align="left">No</td>
<td align="left">902 (97.1)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">27 (2.9)</td>
<td align="left">1.17 (0.70-1.95, p=0.556)</td>
<td align="left">1.08 (0.64-1.81, p=0.785)</td>
</tr>
</tbody>
</table>
<p>Simply switch to <code><a href="../reference/hr_plot.html">hr_plot()</a></code> for plot.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"Surv(time, status)"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/hr_plot.html">hr_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-20-1.png" width="2700"></p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
<ul>
<li>All options list for odds ratio plots above (section 1) apply to
hazard ratio plots.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="coefficient-plots">3 Coefficient plots<a class="anchor" aria-label="anchor" href="#coefficient-plots"></a>
</h2>
<div class="section level3">
<h3 id="standard-coefficient-plots">3.01 Standard coefficient plots<a class="anchor" aria-label="anchor" href="#standard-coefficient-plots"></a>
</h3>
<p>This is used to visually present the results from a multivariable
linear regression model.</p>
<p>#’ # Coefficient plot #’ explanatory = c(“age.factor”, “sex.factor”,
“obstruct.factor”, “perfor.factor”) #’ dependent = “nodes” #’ colon_s
%&gt;% #’ coefficient_plot(dependent, explanatory)</p>
<p>Here is the model:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"nodes"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/finalfit.html">finalfit</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span>row.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="co"># This line only needed for formatting. </span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="10%">
<col width="8%">
<col width="8%">
<col width="28%">
<col width="28%">
</colgroup>
<thead><tr class="header">
<th align="left">Dependent: nodes</th>
<th align="left"></th>
<th align="left">unit</th>
<th align="left">value</th>
<th align="left">Coefficient (univariable)</th>
<th align="left">Coefficient (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="left">Mean (sd)</td>
<td align="left">4.7 (4.5)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="left">Mean (sd)</td>
<td align="left">3.6 (3.3)</td>
<td align="left">-1.14 (-2.08 to -0.21, p=0.016)</td>
<td align="left">-1.21 (-2.16 to -0.26, p=0.012)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="left">Mean (sd)</td>
<td align="left">3.6 (3.6)</td>
<td align="left">-1.19 (-2.10 to -0.28, p=0.010)</td>
<td align="left">-1.25 (-2.18 to -0.33, p=0.008)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="left">Mean (sd)</td>
<td align="left">3.7 (3.6)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Male</td>
<td align="left">Mean (sd)</td>
<td align="left">3.6 (3.6)</td>
<td align="left">-0.14 (-0.60 to 0.33, p=0.565)</td>
<td align="left">-0.07 (-0.54 to 0.40, p=0.779)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="left">Mean (sd)</td>
<td align="left">3.7 (3.7)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">Mean (sd)</td>
<td align="left">3.5 (3.2)</td>
<td align="left">-0.24 (-0.83 to 0.36, p=0.435)</td>
<td align="left">-0.31 (-0.91 to 0.29, p=0.313)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td align="left">No</td>
<td align="left">Mean (sd)</td>
<td align="left">3.7 (3.6)</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Yes</td>
<td align="left">Mean (sd)</td>
<td align="left">3.9 (2.8)</td>
<td align="left">0.24 (-1.13 to 1.61, p=0.735)</td>
<td align="left">0.28 (-1.09 to 1.66, p=0.686)</td>
</tr>
</tbody>
</table>
<p>Simply switch to <code>coeffcient_plot()</code> for plot.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"nodes"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/coefficient_plot.html">coefficient_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-22-1.png" width="2700"></p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
<ul>
<li>All options list for odds ratio plots above (section 1) apply to
coefficient ratio plots.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="wrapper-for-all-plot-types">4 Wrapper for all plot types<a class="anchor" aria-label="anchor" href="#wrapper-for-all-plot-types"></a>
</h2>
<p><code><a href="../reference/ff_plot.html">ff_plot()</a></code> will automatically determine the dependent
variable type (binary, survival object, or continuous), and produce the
appropriate output (odds ratio, hazard ratio, or coefficient plot).</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span><span class="op">)</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"nodes"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/ff_plot.html">ff_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-23-1.png" width="2700"></p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Note this example uses fig.height=3, fig.width=9</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="kaplan-meier-plots">5 Kaplan Meier plots<a class="anchor" aria-label="anchor" href="#kaplan-meier-plots"></a>
</h2>
<p>Use finalfit grammar to plot a survival curve with number-at-risk
table using <code><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">survminer::ggsurvplot()</a></code>.</p>
<div class="section level3">
<h3 id="standard-km-plot">5.1 Standard KM plot<a class="anchor" aria-label="anchor" href="#standard-km-plot"></a>
</h3>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="st">"perfor.factor"</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"Surv(time, status)"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/surv_plot.html">surv_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-24-1.png" width="1800"></p>
</div>
<div class="section level3">
<h3 id="adjust-using-options">5.2 Adjust using options<a class="anchor" aria-label="anchor" href="#adjust-using-options"></a>
</h3>
<p>Pass any of the options from
<code><a href="https://rdrr.io/pkg/survminer/man/ggsurvplot.html" class="external-link">survminer::ggsurvplot()</a></code>.</p>
<p>For example:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ewenharrison/finalfit" class="external-link">finalfit</a></span><span class="op">)</span>
<span class="va">explanatory</span> <span class="op">=</span> <span class="st">"perfor.factor"</span>
<span class="va">dependent</span> <span class="op">=</span> <span class="st">"Surv(time, status)"</span>
<span class="va">colon_s</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/surv_plot.html">surv_plot</a></span><span class="op">(</span><span class="va">dependent</span>, <span class="va">explanatory</span>, xlab<span class="op">=</span><span class="st">"Time (days)"</span>, pval<span class="op">=</span><span class="cn">TRUE</span>, legend<span class="op">=</span><span class="st">"none"</span><span class="op">)</span></code></pre></div>
<p><img src="all_plots_examples_files/figure-html/unnamed-chunk-25-1.png" width="1800"></p>
</div>
</div>
<div class="section level2">
<h2 id="missing-data-plots">6 Missing data plots<a class="anchor" aria-label="anchor" href="#missing-data-plots"></a>
</h2>
<p>See <a href="https://finalfit.org/articles/missing.html" class="external-link uri">https://finalfit.org/articles/missing.html</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ewen Harrison, Tom Drake, Riinu Pius.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
